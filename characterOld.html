<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="playerInfo.js"></script>
    <style>
        .number {
            text-align: end;
            background-color: antiquewhite;
        }
        th {
            background-color: aquamarine;
            color: crimson;
        }
        button {
            background-color: red;
            color: antiquewhite;
        }

    </style>
</head>
<body>
    
    <script>
        //Player stats tracking
        let playerMaxHealth = 4;
        let playerCurrentHealth = 4;
        // +2hp max per level
        let playerVitality = 0;
        let playerEndurance = 0;
        let playerStrength = 0;
        let playerDexterity = 0;
        let playerIntelligence = 0;
        let playerFaith = 0;

        
        //Level up currency
        let boneFragments = 4;
        //Rerolls
        let earthenBulbs = 3;
        //+4hp or reroll
        let blackenedBloodVailMaxCharges = 1;
        let blackenedBloodVailCurrentCharges = 1;

        displayView();
        function displayView(){
            const levelCostList = [4, 8, 12, 16, '']
            document.body.innerHTML = /*HTML*/ `
                <div>
                    Player HP: ${playerMaxHealth}
                    <br />
                    <br />
                    <table>
                        <tr>
                            <th>Earthen Bulbs</th>
                            <td class="number">${earthenBulbs}</td>
                            <td><button onclick="earthenBulbs = addCurrency(earthenBulbs), displayView()">+</button></td>
                        </tr>
                        <tr>
                            <th>Bone Fragments</th>
                            <td class="number">${boneFragments}</td>
                            <td><button onclick="boneFragments = addCurrency(boneFragments), displayView()">+</button></td>
                        </tr>
                        <tr>
                            <th>Player Stats</th>
                            <td>Max level 4</td>
                        </tr>
                        <tr>
                            <th>Vitality</th>
                            <td class="number">${playerVitality}</td>
                            <td><button onclick="playerVitality = levelStat(playerVitality),  playerMaxHealth += 2 displayView();">+</button></td>
                            <td class="number">${levelCostList[playerVitality]}</td>
                        </tr>
                        <tr>
                            <th>Endurance</th>
                            <td class="number">${playerEndurance}</td>
                            <td><button onclick="playerEndurance = levelStat(playerEndurance), displayView()">+</button></td>
                            <td class="number">${levelCostList[playerEndurance]}</td>
                        </tr>
                        <tr>
                            <th>Strength</th>
                            <td class="number">${playerStrength}</td>
                            <td><button onclick="playerStrength = levelStat(playerStrength), displayView()">+</button></td>
                            <td class="number">${levelCostList[playerStrength]}</td>
                        </tr>
                        <tr>
                            <th>Dexterity</th>
                            <td class="number">${playerDexterity}</td>
                            <td><button onclick="playerDexterity = levelStat(playerDexterity), displayView()">+</button></td>
                            <td class="number">${levelCostList[playerDexterity]}</td>
                        </tr>
                        <tr>
                            <th>Intelligence</th>
                            <td class="number">${playerIntelligence}</td>
                            <td><button onclick="playerIntelligence = levelStat(playerIntelligence), displayView()">+</button></td>
                            <td class="number">${levelCostList[playerIntelligence]}</td>
                        </tr>
                        <tr>
                            <th>Faith</th>
                            <td class="number">${playerFaith}</td>
                            <td><button onclick="playerFaith = levelStat(playerFaith), displayView()">+</button></td>
                            <td class="number">${levelCostList[playerFaith]}</td>
                        </tr>
                    </table>
            `
        }


        function useVialForHP(){
            if(blackenedBloodVail >= 1){
                playerCurrentHealth += 4;

                if(playerCurrentHealth > playerMaxHealth){
                    playerCurrentHealth = playerMaxHealth;
                }
            }
            else {return;}
        }

        function restAtCamp(){
            blackenedBloodVailCurrentCharges = blackenedBloodVailMaxCharges;
        }

        function levelStat(stat){
            if(stat == 0 && boneFragments >= 4){
                stat++;
                boneFragments -= 4;
            }
            else if(stat == 1 && boneFragments >= 8){
                stat++;
                boneFragments -= 8;
            }
            else if(stat == 2 && boneFragments >= 12){
                stat++;
                boneFragments -= 12;
            }
            else if(stat == 3 && boneFragments >= 16){
                stat++;
                boneFragments -= 16;
            }

            return stat;
        }

        function addCurrency(inputVariable){
            inputVariable++;

            return inputVariable;
        }
    </script>
</body>
</html>